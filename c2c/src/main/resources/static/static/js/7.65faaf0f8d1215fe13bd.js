webpackJsonp([7],{NS8l:function(e,t,i){"use strict";t.c=function(){return Object(s.a)({url:"/address/province",method:"get"})},t.a=function(e){return Object(s.a)({url:"/address/getCity",method:"get",params:{provinceId:e}})},t.b=function(e){return Object(s.a)({url:"/address/getDistrict",method:"get",params:{cityId:e}})};var s=i("vLgD")},fCrT:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("vLgD"),a=i("6iV/"),n=i.n(a);var l=i("I2ex"),r=i("0xDb"),o=i("NS8l"),c={data:function(){return{provinces:[],cities:[],districts:[],nowMeetingId:void 0,list:null,listLoading:!1,dialogFormVisible:!1,dialogStatus:"create",textMap:{update:"Edit",create:"添加终端"},addTerminalInfo:{terminalId:"",terminalSequence:1},selectedOptions:[],houseTypes:[{value:1,label:"海景房测试"}],houseTypeID:void 0,listQuery:{houseTypeId:void 0,provinceId:void 0,cityId:void 0,districtId:void 0},multipleSelection:[]}},filters:{statusFilter:function(e){return{true:"success",false:"danger"}[e]},inMeetingFilter:function(e){return{true:"是",false:"否"}[e]},parseTimeFilter:function(e){return Object(r.a)(e)}},created:function(){this.fetchData(),this.getAllProvince(),this.getHouseTypes()},methods:{getHouseTypes:function(){var e=this;this.houseTypes=[],Object(l.e)().then(function(t){for(var i=0;i<t.data.length;i++){var s=t.data[i];e.houseTypes.push({value:s.houseTypeId,label:s.houseType})}})},fetchData:function(){var e=this;this.listLoading=!0,Object(l.g)().then(function(t){e.list=t.data,e.listLoading=!1})},handleCreate:function(){this.dialogFormVisible=!0},handleUpdate:function(){this.dialogStatus="Edit",this.dialogFormVisible=!0},createData:function(){var e,t=this;(e=this.addTerminalInfo,Object(s.a)({url:"/addTerminal",method:"post",data:n.a.stringify(e)})).then(function(e){e.success?(t.dialogFormVisible=!1,t.$message.success(e.message),t.fetchData()):t.$message.error(e.message)})},updateData:function(){alert("Update")},freshList:function(){this.fetchData()},handleDispatchSpecific:function(e,t){this.$router.push({path:"/house?houseId="+t.houseID})},handleSelectionChange:function(e,t){this.multipleSelection=e},getAllProvince:function(){var e=this;this.provinces=[],Object(o.c)().then(function(t){for(var i=0;i<t.data.length;i++){var s=t.data[i];e.provinces.push({value:s.provinceId,label:s.provinceDesc})}})},chooseCity:function(e){var t=this;this.clearQuery(2),this.filterHouseFunc(),this.cities=[],Object(o.a)(e).then(function(e){for(var i=0;i<e.data.length;i++){var s=e.data[i];t.cities.push({value:s.cityId,label:s.cityDesc})}})},chooseDistrict:function(e){var t=this;this.clearQuery(1),this.filterHouseFunc(),this.districts=[],Object(o.b)(e).then(function(e){for(var i=0;i<e.data.length;i++){var s=e.data[i];t.districts.push({value:s.districtId,label:s.districtDesc})}})},filterHouseFunc:function(){var e=this;Object(l.b)(this.listQuery).then(function(t){t.success&&(e.list=t.data)})},clearQuery:function(e){switch(e){case 2:this.listQuery.cityId=void 0;case 1:this.listQuery.districtId=void 0}}}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-tag",[e._v("筛选条件")]),e._v(" "),i("div",{staticClass:"filter-container"},[i("el-select",{attrs:{placeholder:"省级地区"},on:{change:e.chooseCity},model:{value:e.listQuery.provinceId,callback:function(t){e.$set(e.listQuery,"provinceId",t)},expression:"listQuery.provinceId"}},e._l(e.provinces,function(e){return i("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),e._v(" "),i("el-select",{attrs:{placeholder:"市级地区"},on:{change:e.chooseDistrict},model:{value:e.listQuery.cityId,callback:function(t){e.$set(e.listQuery,"cityId",t)},expression:"listQuery.cityId"}},e._l(e.cities,function(e){return i("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),e._v(" "),i("el-select",{attrs:{placeholder:"区级地区"},on:{change:e.filterHouseFunc},model:{value:e.listQuery.districtId,callback:function(t){e.$set(e.listQuery,"districtId",t)},expression:"listQuery.districtId"}},e._l(e.districts,function(e){return i("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),e._v(" "),i("el-select",{staticStyle:{"margin-left":"40px"},attrs:{placeholder:"房间类型"},on:{change:e.filterHouseFunc},model:{value:e.listQuery.houseTypeId,callback:function(t){e.$set(e.listQuery,"houseTypeId",t)},expression:"listQuery.houseTypeId"}},e._l(e.houseTypes,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.list,"element-loading-text":"Loading","default-sort":{prop:"terminalid",order:"descending"},border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"房源类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.houseTypeDes))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"房源简介"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.houseDes))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"房源所在地"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.provinceDesc+t.row.cityDesc+t.row.districtDess))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"租金"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{type:"danger"}},[e._v("¥"+e._s(t.row.houseMoney))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"!=t.row.vote_status?i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){e.handleDispatchSpecific(t.$index,t.row)}}},[e._v("详情")]):e._e()]}}])})],1)],1)},staticRenderFns:[]},d=i("/Xao")(c,u,!1,null,null,null);t.default=d.exports}});